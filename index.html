<!DOCTYPE html>
<html>
<body>

<div>
    <h1>阿里云 安装Mogodb Ubuntu16.04</h1>
    <p>
        <label>1.</label>
        <b>rm /etc/apt/apt.conf</b>
        <a href="https://yq.aliyun.com/ask/47027/?order=vote_num&p=1" target="_blank">（apt代理问题会导致403）</a>
    </p>
    <p>
        <label>2.</label>
        <b>sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv 0C49F3730359A14518585931BC711F9BA15703C6</b>
        <a href="https://docs.mongodb.com/manual/tutorial/install-mongodb-on-ubuntu/" target="_blank">（mongodb官方教程）</a>
    </p>
    <p>
        <label>3.</label>
        <b>echo "deb [ arch=amd64,arm64 ] http://repo.mongodb.org/apt/ubuntu xenial/mongodb-org/3.4 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org-3.4.list</b>
    </p>
    <p>
        <label>4.</label>
        <b>sudo apt-get update</b>
    </p>
    <p>
        <label>5.</label>
        <b>sudo apt-get install -y mongodb-org</b>
    </p>
    <p>
        <label>6.</label>
        <b>mkdir /data; mkdir /data/db</b>
    </p>
    <p>
        <label>7.</label>
        <b>sudo mongod</b>
    </p>
</div>


<div>
    <h1>阿里云 mysql Ubuntu16.04</h1>
    <p>
        <label>1.</label>
        <b>sudo apt-get update</b>
    </p>
    <p>
        <label>2.</label>
        <b>sudo apt install mysql-server</b>
        <span>确定root密码</span>
    </p>
    <p>
        <label>3.</label>
        <b>mysql -u root -p</b>
        <span>登录mysql</span>
    </p>
</div>


<div>
    <h1>阿里云 部署Flask项目</h1>
    <div>
        <p><b>1.新建代码共享服务器（远端）</b></p>
        <p>cd ~</p>
        <p>mkdir softmind.git</p>
        <p>cd softmind.git</p>
        <p>git init --bare</p>
    </div>
    <div>
        <p><b>2.将开发代码上传（本地）</b></p>
        <p>cd /path/to/softmind</p>
        <p>git init</p>
        <p>将remote设置为softmind.git, 并命名为 production</p>
        <p>配置.gitignore</p>
        <p>git add *; git commit -m 'meg';</p>
        <p>git push production</p>
    </div>
    <div>
        <p><b>3.部署代码（远端）</b></p>
        <p>cd /path/to/softmind</p>
        <p>git init</p>
        <p>将remote设置为softmind.git, 并命名为 code</p>
        <p>配置.gitignore</p>
        <p>git add *; git commit -m 'meg';</p>
        <p>git pull code</p>
        <p>virtualenv venv</p>
        <p>pip install -r requirements.txt</p>
        <p>cd project/static</p>
        <p>cnpm install</p>
        <p>cnpm run build</p>
        <p>cd /path/to/softmind</p>
        <p>python run.py</p>
        <p>会遇到M2Crypto在venv环境下无法安装的问题，可在全局环境下安装，然后将二进制文件拷贝到venv对应目录下</p>
    </div>
</div>


</body>
</html>